{% extends "layout.html" %}

{% block title %}AskMate{% endblock %}

{% block head %}
    <link rel="stylesheet" href="/static/css/cards.css">
    <link rel="stylesheet" href="/static/css/list.css">
{% endblock %}

{% block header_content %}
    {% if page=='sorted' %}
    <a href="/sort/clear" id="clear-sort"><div>
        Clear sort
    </div></a>
    {% endif %}
    <div id="sort-menu-container">
        <div id="sort-dropdown">
            Sort by
        </div>
        <div id="sort-values">
            ID: <a href="/sort?id=asc" class="material-icons">arrow_upward</a>
            <a href="/sort?id=desc" class="material-icons">arrow_downward</a><br>
            Title: <a href="/sort?title=asc" class="material-icons">arrow_upward</a>
            <a href="/sort?title=desc" class="material-icons">arrow_downward</a><br>
            Rating: <a href="/sort?vote_number=asc" class="material-icons">arrow_upward</a>
            <a href="/sort?vote_number=desc" class="material-icons">arrow_downward</a><br>
            Time posted: <a href="/sort?submission_time=asc" class="material-icons">arrow_upward</a>
            <a href="/sort?submission_time=desc" class="material-icons">arrow_downward</a><br>
            Views: <a href="/sort?view_number=asc" class="material-icons">arrow_upward</a>
            <a href="/sort?view_number=desc" class="material-icons">arrow_downward</a><br>
        </div>
    </div>
{% endblock %}

{% block main %}
    {% for question in question_list %}
    <article class="question-card">
        <div class="numbers-wrapper">
        <section class="numbers">
            <div class="votes">
                <a href="/question/{{ question['id'] }}/vote-up?next=this" class="material-icons vote-button vote-up">arrow_upward</a>
                <div class="vote-number">{{ question['vote_number'] }}</div>
                <a href="/question/{{ question['id'] }}/vote-down?next=this" class="material-icons vote-button vote-down">arrow_downward</a>
            </div>
            <div><span class="material-icons num-icon">remove_red_eye</span> {{ question['view_number'] }}</div>
            <div><span class="material-icons num-icon">question_answer</span> {{ question['answer_count']}}</div>
        </section>
        </div>
        <div class="question-wrapper">
            <a href="/question/{{ question['id'] }}" class="link-to-question"><h2>{{ question['title']|safe }}</h2></a>
            <a href="/question/{{ question['id'] }}" class="link-to-question"><p class="entry-message">{{ question['message']|safe }}</p></a>
        </div>
    </article>
    {% endfor %}
    {% if page=='index' %}
    <a class="more-q-link" href="/list"><button class="more-questions">Load more questions</button></a>
    {% endif %}
{% endblock %}

<!-- ONLICK
onclick="location='/question/{{ id }}'"
-->