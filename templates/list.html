{% extends "layout.html" %}

{% block title %}AskMate{% endblock %}

{% block head %}
    <link rel="stylesheet" href="/static/css/cards.css">
    <link rel="stylesheet" href="/static/css/list.css">
{% endblock %}

{% block header_content %}
    <div id="sort-menu-container">
        <div id="sort-dropdown">
            Sort by
        </div>
        <div id="sort-values">
            ID: <a href="/sort?id=asc" class="material-icons">arrow_upward</a>
            <a href="/sort?id=desc" class="material-icons">arrow_downward</a><br>
            Title: <a href="/sort?title=asc" class="material-icons">arrow_upward</a>
            <a href="/sort?title=desc" class="material-icons">arrow_downward</a><br>
            Rating: <a href="/sort?vote_number=asc" class="material-icons">arrow_upward</a>
            <a href="/sort?vote_number=desc" class="material-icons">arrow_downward</a><br>
            Time posted: <a href="/sort?submission_time=asc" class="material-icons">arrow_upward</a>
            <a href="/sort?submission_time=desc" class="material-icons">arrow_downward</a><br>
            Views: <a href="/sort?view_number=asc" class="material-icons">arrow_upward</a>
            <a href="/sort?view_number=desc" class="material-icons">arrow_downward</a><br>
        </div>
    </div>
{% endblock %}

{% block main %}
    {% for question in question_list %}
    {% with id = question['id'] %}
    <article onclick="location='/question/{{ id }}'"class="question-card">
    {% endwith %}
        <div class="numbers-wrapper">
        <section class="numbers">
            <div class="votes">
                <a href="/question/{{ question['id'] }}/vote-up" class="material-icons vote-button vote-up">arrow_upward</a><br>
                {{ question['vote_number'] }}<br>
                <a href="/question/{{ question['id'] }}/vote-down" class="material-icons vote-button vote-down">arrow_downward</a>
            </div>
            <span class="material-icons num-icon">remove_red_eye</span> {{ question['view_number'] }}<br>
            <span class="material-icons num-icon">question_answer</span> {{ question['answer_count']}}
        </section>
        </div>
        <div class="question-wrapper">
            <h2>{{ question['title'] }}</h2>
            <p class="entry-message">{{ question['message'] }}</p>
        </div>
    </article>
    {% endfor %}
    {% if index %}
    <a class="more-q-link" href="/list"><button class="more-questions">Load more questions</button></a>
    {% endif %}
{% endblock %}